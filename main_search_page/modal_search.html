<!DOCTYPE html>
<html>
	<head>
		<!-- <link type="text/css" href="search_page.css" rel="stylesheet" /> -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.3/angular.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<link type='text/css' rel='stylesheet' href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
		<!--<link type="text/css" href="search_page2.css" rel="stylesheet" /> -->
		<script src="search_list_results.js"></script>
		<!--<script src="search_page2.js"></script>-->
		<script src="search_list_results.js"></script>
		<!--<script src="search_page2.js"></script> -->
		<script src="search_params_modal.js"></script>
		<script src="submit_search_func.js"></script>
		<script src="search.js"></script>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	    <title>Main Search Page</title>
	    <link type="text/css" href="blahblah.css" rel="stylesheet" />
	</head>

	<body>

		<script>

			// given following lists (extracted through php code from the database):
				// race_white : all programs for white students
				// race_black: all programs for black students
				// race_hispanic
				// race_asian
				// race_other
				// GPA_1 : all programs between 0.0-1.0
				// GPA_2 : all programs between 1.0-2.0
				// GPA_3 : all programs between 2.0-3.0
				// GPA_4 : all programs between 3.0-4.0
				// gender_f : females 
				// gender_m : males
				// gender_o : other
				// grade_k2 
				// grade_345
				// grade_68
				// grade_912
				// cost_free
				// cost_10
				// cost_20
				// cost_35
				// cost_more
				// time_summer
				// time_schoolyear
				// time_weekdays
				// time_weekends
				// focus_stem
				// focus_testing
				// focus_sports
				// focus_mentoring
				// focus_music
				// focus_academics
				// focus_leadership
				// focus_college
				// focus_credit

			$(document).ready(function() {
				var parameters_dict = {
					"student_profile" : {
						"race": [],
						"gpa" : [],
						"gender" : [],
						"grade_level" :[]
					},
					"program_profile" : {
						"cost" : [],
						"time" : [],
						"location" : {
							"zip_code" : "",
						}
					},
					"program_focus" : []
				}

				$('.dropdown-menu').on('click', function(e) {
					if($(this).hasClass('dropdown-menu-form')) {
						e.stopPropagation();
					}
				})
				$('.update_btn').on('click', function(e) {
					$('.dropdown.open .dropdown-toggle').dropdown('toggle');
					console.log("click");
					console.log(parameters_dict);
				})
				$(".race_checkbox").on("change", "input[type=checkbox]",function(e){
						//if checked is false, remove from list
						//if checked is true, add to list
						var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["student_profile"]["race"].push(id);
						} else {
							var change_array = parameters_dict["student_profile"]["race"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["student_profile"]["race"]);
					})
				$(".gender_checkbox").on("change", "input[type=checkbox]", function(e){
						var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["student_profile"]["gender"].push(id);
						} else {
							var change_array = parameters_dict["student_profile"]["gender"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["student_profile"]["gender"]);
				})
				$(".grade_level_checkbox").on("change", "input[type=checkbox]", function(e) {
						var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["student_profile"]["grade_level"].push(id);
						} else {
							var change_array = parameters_dict["student_profile"]["grade_level"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["student_profile"]["grade_level"]);
				})
				$(".focus_checkbox").on("change", "input[type=checkbox]", function(e){
					var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["program_focus"].push(id);
						} else {
							var change_array = parameters_dict["program_focus"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["program_focus"]);
				})
				$(".cost_checkbox").on("change", "input[type=checkbox]", function(e){
					var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["program_profile"]["cost"].push(id);
						} else {
							var change_array = parameters_dict["program_profile"]["cost"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["program_profile"]["cost"]);
				})
				$(".year_checkbox").on("change", "input[type=checkbox]", function(e){
					var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["program_profile"]["time"].push(id);
						} else {
							var change_array = parameters_dict["program_profile"]["time"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["program_profile"]["time"]);
				})	
				$(".day_checkbox").on("change", "input[type=checkbox]", function(e){
					var id = e.target.id;
						var is_checked = this.checked;
						if (is_checked) {
							parameters_dict["program_profile"]["time"].push(id);
						} else {
							var change_array = parameters_dict["program_profile"]["time"];
							var index = change_array.indexOf(id);
							change_array.splice(index, 1);
						}
						console.log(parameters_dict["program_profile"]["time"]);
				})

				function makeSearchResultsList() { // function will return a list of all program names to be displayed
					//TODO: this function
					return [];
				}	

			})
		</script>

		<button id="update_search" type="button" class="btn btn-default enter_modal" data-toggle="modal" data-target="#udpate_search_modal" style="width:200px; height:120px; background-color:grey;">Update Search</button>

		 <div class="modal fade" id="udpate_search_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		        <h4 class="modal-title">Add Search Parameters to Update Your Search!</h4>
		      </div>
		      <div class="modal-body">

		<div class="search_params">

			<div class="block student_profile_dropdown">
				<div class="dropdown">
					<button type="button" class="dropdown-toggle btn btn-default dropdown_btn" data-toggle="dropdown" href="#">Student Profile<b class="caret"></b>
					</button>
					<ul class="dropdown-menu dropdown-menu-form" role="menu">
						<li>Race/Ethnicity</li>
							<li class="r">
							<div class="race">
								<label class="checkbox race_checkbox">
									<input type="checkbox" id="race_white">
								White
								</label>
							</div>

							<div class="race">
								<label class="checkbox race_checkbox" >
									<input type="checkbox" id="race_hispanic">
										Hispanic
								</label>
							</div>
							<div class="race">
								<label class="checkbox race_checkbox" >
									<input type="checkbox" id="race_black">
									Black
								</label>
							</div>
						</li>
						<li class="r">
							<div class="race">
								<label class="checkbox race_checkbox" >
									<input type="checkbox" id="race_asian">
									Asian
								</label>
							</div>
							<div class="race">
								<label class="checkbox race_checkbox" >
									<input type="checkbox" id="race_other">
									Other
								</label>
							</div>
						</li>
						</li>
						<li>GPA</li>
						<li class="gpa">gpa-slider</li>
						<li>Gender</li>
						<li class="g">
							<div class="gender">
								<label class="checkbox gender_checkbox">
									<input type="checkbox"  id="gender_female">
									Female
								</label>
							</div>
							<div class="gender">
								<label class="checkbox gender_checkbox" >
									<input type="checkbox" id="gender_male">
									Male
								</label>
							</div>
							<div class="gender">
								<label class="checkbox gender_checkbox" >
									<input type="checkbox" id="gender_other">
									Other
								</label>
							</div>
						</li>
						<li>Grade-Level</li>
						<li class="gl">
							<div class="grade_level">
								<label class="checkbox grade_level_checkbox">
									<input type="checkbox"  id="grade_k_2">
									K-2
								</label>
							</div>
							<div class="grade_level">
								<label class="checkbox grade_level_checkbox" >
									<input type="checkbox" id="grade_3_5">
									3-5
								</label>
							</div>
							<div class="grade_level">
								<label class="checkbox grade_level_checkbox">
									<input type="checkbox" id="grade_6_8">
									6-8
								</label>
							</div>
						</li>
						<li class="gl">
							<div class="grade_level">
								<label class="checkbox grade_level_checkbox">
									<input type="checkbox" id="grade_hs">
									9-12
								</label>
							</div>
						</li>
						<li>
							<button type="button" class="btn btn-default btn-small update_btn" href="#">Update</button>
						</li>	
					</ul>
				</div>
			</div>


			<div class="block program_profile_dropdown">
				<div class="dropdown">
					<button type="button" class="dropdown-toggle btn btn-default dropdown_btn" data-toggle="dropdown" href="#">Program Profile<b class="caret"></b>
					</button>
					<ul class="dropdown-menu dropdown-menu-form" role="menu">
						<li> 
								Cost
						</li>
						<li class="c">
							<div class="cost">
								<label class="checkbox cost_checkbox">
									<input type="checkbox" id="cost_free">
								Free
								</label>
							</div>
							<div class="cost">
								<label class="checkbox cost_checkbox">
									<input type="checkbox" id="cost_10">
								Up to $10/hour
								</label>
							</div>
						</li>
						<li class="c">
							
							<div class="cost">
								<label class="checkbox cost_checkbox">
									<input type="checkbox" id="cost_20">
								$10-$20/hour
								</label>
							</div>
							<div class="cost">
								<label class="checkbox cost_checkbox">
									<input type="checkbox" id="cost_35">
								$20-$35/hour 
								</label>
							</div>
						</li>
						<li class="c">
							
							<div class="cost">
								<label class="checkbox cost_checkbox">
									<input type="checkbox" id="cost_more">
								$35+/hour
								</label>
							</div>
						</li>	
						<li>Time of year </li>
						<li class="y">
							<div class="time_of_year">
								<label class="checkbox year_checkbox">
									<input type="checkbox" id="school_year">
									School Year
								</label>
							</div>
							<div class="time_of_year">
								<label class="checkbox year_checkbox">
									<input type="checkbox" id="summer">
									Summer
								</label>
							</div>
						</li>
						<li>Days of the week</li>
						<li class="w">
							<div class="day">
								<label class="checkbox day_checkbox">
									<input type = "checkbox" id="weekdays">
									Weekdays
								</label>
							</div>
							<div class="day">
								<label class="checkbox day_checkbox">
									<input type="checkbox" id="weekends">
									Weekends
								</label>
							</div>
						</li>
						<li>Location</li>
						<li class="w">
							<div class="set_location">
               		 			<input type='text' class='form-control' id='get_location' placeholder='zip code i.e. 02139'></input>
               		 		</div>
               		 	</li>
						<li>
							<button type="button" class="btn btn-default btn-small update_btn" href="#">Update</button>
						</li>
					</ul>
				</div>
			</div>

			<div class="block program_focus_dropdown">
				<div class="dropdown">
					<button type="button" class="dropdown-toggle btn btn-default dropdown_btn" data-toggle="dropdown" href="#">Program Focus<b class="caret"></b>
					</button>
					<ul class="dropdown-menu dropdown-menu-form" role="menu">						
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_academics">
								Academics
							</label>
						</li>

						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_college_prep">
								College-Prep
							</label>
						</li>						
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_credit_recover">
								Credit-Recovery
							</label>
						</li>
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_leadership">
								Leadership
							</label>
						</li>
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_mentoring">
								Mentoring
							</label>
						</li>						
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_music">
								Music
							</label>
						</li>
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_sports">
								Sports
							</label>
						</li>
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_stem">
								Stem
							</label>
						</li>
						<li>
							<label class="checkbox focus_checkbox">
								<input type="checkbox" id="focus_testing">
								Testing
							</label>
						</li>
						<li>
							<button type="button" class="btn btn-default btn-small update_btn" href="#">Update</button>
						</li>	
					</ul>
				</div>
			</div>
			
	 <div id="results_wrapper">
		<div class="row search_res">
			<div class='col-md-1'></div>
				<div class="well well-sm search-well">You have no search results </div>
		</div>
	</div>
	</div>
		       
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
		        <button type="button" class="btn btn-primary" data-dismiss="modal" id="submit_search_button2">Update Search</button>
		      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal 
		<!-- MODAL FOR UPDATE THE SEARCH END -->
	</div>
	</body>
</html>
